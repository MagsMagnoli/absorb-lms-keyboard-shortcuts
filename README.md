# Absorb LMS Keyboard Navigation

Do you have a lot of Absorb LMS courses to complete and are as upset as I am that it doesn't support keyboard navigation?
Worry no longer with this handy script!

## Setup

1. Copy the code below

```
javascript:void function(){const e=document.querySelectorAll("iframe");if(e.length<2)return void console.error("Can't locate iframe, refresh page");const t=e[1].contentDocument.querySelector("frame");if(!t||!t.contentDocument)return void console.error("Can't locate frame, refresh page");const c=t.contentDocument,i="binary",o="graphicalchoice",n="hotspot",r="multichoice";function a(){c.querySelectorAll(".visible-xs").forEach(e=>e.remove()),items=[];const e=c.querySelectorAll("div.row.binary-row"),t=function(){const e=c.querySelectorAll("ul.graphical-choices-list li");if(!e.length)return[];const t=e[0].parentNode.parentNode.parentNode.parentNode.parentNode.querySelector("button[name='Continue']");if(!t)return e;return[...e,t]}(),a=c.querySelectorAll("a.ctrhotspot-hotspot"),s=function(){const e=c.querySelectorAll("ul.choices li");if(!e.length)return[];const t=e[0].parentNode.parentNode.parentNode.parentNode.parentNode.querySelector("button[name='Submit']");if(!t)return e;return[...e,t]}();if(e.length>0&&items.push({type:i,subItems:e}),t.length>0&&items.push({type:o,subItems:t}),a.length>0&&items.push({type:n,subItems:a}),s.length>0&&items.push({type:r,subItems:s}),items.length<=0)return console.log("No items found"),activeItem=null,activeItemIdx=null,activeSubItem=null,void(activeSubItemIdx=null);null==activeItem?(activeItem=items[0],activeItemIdx=0,activeSubItem=activeItem.subItems[0],activeSubItemIdx=0):(activeItem=items[activeItemIdx],activeSubItem=activeItem.subItems[activeSubItemIdx]),u(items),I(activeItem),v(activeSubItem)}function u(e){e.map(s)}function s(e){e.subItems.forEach(m)}function m(e){e.style.border="3px dotted black",e.style.margin="3px"}function l(e){e.style.border="3px solid black",e.style.margin="3px"}function I(e){e.subItems.forEach(l)}function v(e){var t;(t=e).style.border="3px solid red",t.style.margin="3px"}function d(){items=[],activeItem=null,activeItemIdx=null,activeSubItem=null,activeSubItemIdx=null}d(),c.addEventListener("keydown",function e(t){t.preventDefault();t.stopPropagation();const s=t.keyCode?t.keyCode:t.which;switch(s){case 81:a();break;case 87:!function(){activeSubItemIdx>0?(activeSubItemIdx-=1,activeSubItem=activeItem.subItems[activeSubItemIdx]):activeItemIdx>0?(activeItemIdx-=1,activeItem=items[activeItemIdx],activeSubItemIdx=activeItem.subItems.length-1,activeSubItem=activeItem.subItems[activeSubItemIdx]):(activeItem=items[items.length-1],activeItemIdx=items.length-1,activeSubItemIdx=activeItem.subItems.length-1,activeSubItem=activeItem.subItems[activeSubItemIdx]);u(items),I(activeItem),v(activeSubItem)}();break;case 83:!function(){activeSubItemIdx<activeItem.subItems.length-1?(activeSubItemIdx+=1,activeSubItem=activeItem.subItems[activeSubItemIdx]):activeItemIdx<items.length-1?(activeItemIdx+=1,activeItem=items[activeItemIdx],activeSubItemIdx=0,activeSubItem=activeItem.subItems[activeSubItemIdx]):(activeItem=items[0],activeItemIdx=0,activeSubItem=activeItem.subItems[0],activeSubItemIdx=0);u(items),I(activeItem),v(activeSubItem)}();break;case 65:!function(){switch(activeItem.type){case i:!function(){const e=activeSubItem.querySelectorAll("a");if(!e||e.length<2)return void console.error("No choices found");const t=e[0];if(!t)return void console.error("Choice not found");t.click()}();break;case o:!function(){if("BUTTON"===activeSubItem.tagName)return activeSubItem.click(),void a();const e=activeSubItem.querySelector("a");if(!e)return void console.error("Link not found");e.click(),a()}();break;case n:activeSubItem.click();break;case r:!function(){if("BUTTON"===activeSubItem.tagName)return void activeSubItem.click();const e=activeSubItem.querySelector("input");if(!e)return void console.error("Check not found");e.click()}();break;default:console.error("Invalid item type")}}();break;case 68:activeItem.type===i&&function(){const e=activeSubItem.querySelectorAll("a");if(!e||e.length<2)return void console.error("No choices found");const t=e[1];t?t.click():console.error("Choice not found")}();break;case 39:const t=c.querySelector("a.right.carousel-control")||c.querySelector("a.footer-right-next");!function(e){if(!e)return void console.error("Next nav not found");e.click()}(t),d(),setTimeout(a,750);break;case 37:const m=c.querySelector("a.left.carousel-control")||c.querySelector("a.footer-right-back");!function(e){if(!e)return void console.error("Prev nav not found");e.click()}(m),d(),setTimeout(a,750);break;case 27:c.removeEventListener("keydown",e),console.info("Absorb navigation terminated")}}),console.info("Absorb shortcuts initialized\nPress 'Q' to query items\nPress 'W' and 'S' to navigate elements\nPress 'A' and 'D' to execute primary and secondary actions\nPress left and right arrows to navigate pages\nPress 'Escape' to quit"),a()}();
```

2. Create a new bookmark in the bookmarks bar of Firefox or Chrome, and paste the code below in the target / location field

## Usage

1. Navigate to an Absorb course where the bottom navigation is visible
2. Click the bookmark
3. You can now navigate with the left and right arrows on your keyboard!

## Exiting

- Press the Escape key or refresh the page to terminate the script
